<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –¥–æ—à–∫–∞: –ü–æ—Ö—ñ–¥–Ω–∞</title>
    <!-- –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —à—Ä–∏—Ñ—Ç—É Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* –°—Ç–∏–ª—å –¥–ª—è –≤–∏–±—Ä–∞–Ω–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ */
        .option-label:has(input:checked) {
            background-color: #e0f2fe; /* light-blue-100 */
            border-color: #0284c7; /* light-blue-600 */
        }
        /* –ê–Ω—ñ–º–∞—Ü—ñ—è –¥–ª—è —Å–æ–±–∞–∫–∏ */
        @keyframes run {
            0% { transform: translateY(0); }
            50% { transform: translateY(-3px); }
            100% { transform: translateY(0); }
        }
        #dog.running {
            animation: run 0.3s infinite;
        }
        
        /* –°—Ç–∏–ª—å –¥–ª—è —Ñ—ñ–Ω—ñ—à–Ω–æ—ó –ª—ñ–Ω—ñ—ó */
        #finishLine {
            /*  */
            font-size: 2.5rem; /* –ù–∞–ª–∞—à—Ç–æ–≤—É—î–º–æ —Ä–æ–∑–º—ñ—Ä emoji –ø—Ä–∞–ø–æ—Ä–∞ */
            line-height: 1;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">

    <div class="bg-white p-6 sm:p-8 rounded-2xl shadow-xl w-full max-w-3xl mx-auto">

        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–∞ –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è -->
        <div class="flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6">
            <div>
                <h1 class="text-2xl sm:text-3xl font-bold text-gray-800">–î–æ—à–∫–∞ –∑–∞–≤–¥–∞–Ω—å: –ü–æ—Ö—ñ–¥–Ω–∞</h1>
                <p class="text-gray-600">10 –∫–ª–∞—Å - –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è</p>
            </div>
            <div class="flex items-center gap-4">
                <div id="timer" class="text-xl font-bold text-red-600 bg-red-100 px-4 py-2 rounded-lg">20:00</div>
                <div id="score-display" class="text-xl font-bold text-blue-600 bg-blue-100 px-4 py-2 rounded-lg">
                    –ë–∞–ª: <span id="score">0</span> / 12
                </div>
            </div>
        </div>

        <!-- –ü–æ–ª–µ –¥–ª—è —ñ–º–µ–Ω—ñ -->
        <div class="mb-6">
            <label for="studentName" class="block text-sm font-medium text-gray-700 mb-1">–í–≤–µ–¥—ñ—Ç—å –≤–∞—à–µ —ñ–º'—è:</label>
            <input type="text" id="studentName" placeholder="–í–∞—à–µ —ñ–º'—è" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500">
        </div>

        <!-- "–ë—ñ–≥–æ–≤–∞ –¥–æ—Ä—ñ–∂–∫–∞" –¥–ª—è —Å–æ–±–∞–∫–∏ -->
        <div class="mb-6">
            <h3 class="text-lg font-semibold text-gray-700 mb-2">–í–∞—à –ø—Ä–æ–≥—Ä–µ—Å:</h3>
            <div id="track" class="relative w-full h-20 bg-green-100 rounded-lg border-4 border-dashed border-green-300 overflow-hidden">
                <!-- –°–æ–±–∞–∫–∞ (–î–∂–µ–∫ –†–∞—Å–µ–ª) -->
                <!--  -->
                <div id="dog" classf="absolute text-5xl" style="left: 0; bottom: -5px; transition: left 1s ease-in-out;">üê∂</div>
                <!-- –§—ñ–Ω—ñ—à–Ω–∞ –ª—ñ–Ω—ñ—è -->
                <div id="finishLine" class="absolute text-5xl" style="right: 10px; bottom: -5px;">üèÅ</div>
            </div>
        </div>

        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∑–∞–≤–¥–∞–Ω—å -->
        <div id="task-container" class="my-8">
            <h2 id="question-number" class="text-xl font-semibold text-gray-800 mb-2">–ó–∞–≤–¥–∞–Ω–Ω—è 1:</h2>
            <p id="question" class="text-lg text-gray-700 mb-6 min-h-[50px]">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–∞–ø–∏—Ç–∞–Ω–Ω—è...</p>
            
            <!-- –í–∞—Ä—ñ–∞–Ω—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π -->
            <div id="options-container" class="space-y-3">
                <!-- –û–ø—Ü—ñ—ó –±—É–¥—É—Ç—å –¥–æ–¥–∞–Ω—ñ –¥–∏–Ω–∞–º—ñ—á–Ω–æ -->
            </div>
        </div>

        <!-- –ó–≤–æ—Ä–æ—Ç–Ω—ñ–π –∑–≤'—è–∑–æ–∫ -->
        <div id="feedback" class="mt-4 min-h-[50px] text-base font-medium p-4 rounded-lg"></div>

        <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è -->
        <div class="flex justify-between items-center mt-8">
            <button id="doneBtn" class="bg-green-600 text-white py-2 px-6 rounded-lg font-semibold hover:bg-green-700 transition duration-200">
                –ì–æ—Ç–æ–≤–æ
            </button>
            <button id="checkBtn" class="bg-blue-600 text-white py-2 px-6 rounded-lg font-semibold hover:bg-blue-700 transition duration-200">
                –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏
            </button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ -->
    <div id="resultsModal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 hidden">
        <div class="bg-white p-8 rounded-2xl shadow-2xl text-center max-w-md w-full">
            <h2 class="text-3xl font-bold text-gray-800 mb-4">–†–µ–∑—É–ª—å—Ç–∞—Ç–∏</h2>
            <p id="finalMessage" class="text-xl text-gray-700 mb-6">–í—ñ—Ç–∞—î–º–æ!</p>
            <p id="finalScore" class="text-2xl font-semibold text-blue-600 mb-6">–í–∞—à –±–∞–ª: 0 –∑ 12</p>
            
            <h3 class="text-xl font-semibold text-gray-800 mb-3">–ü–æ—Ä–∞–¥–∏ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è:</h3>
            <ul id="studyAdvice" class="text-left list-disc list-inside text-gray-600 space-y-2 mb-8">
                <!-- –ü–æ—Ä–∞–¥–∏ –±—É–¥—É—Ç—å –¥–æ–¥–∞–Ω—ñ –¥–∏–Ω–∞–º—ñ—á–Ω–æ -->
            </ul>
            
            <button onclick="location.reload()" class="bg-blue-600 text-white py-3 px-8 rounded-lg font-semibold hover:bg-blue-700 transition duration-200 text-lg">
                –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ —â–µ —Ä–∞–∑
            </button>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DOM –ï–ª–µ–º–µ–Ω—Ç–∏ ---
            const studentNameInput = document.getElementById('studentName');
            const timerEl = document.getElementById('timer');
            const scoreEl = document.getElementById('score');
            const dogEl = document.getElementById('dog');
            const trackEl = document.getElementById('track');
            const questionNumberEl = document.getElementById('question-number');
            const questionEl = document.getElementById('question');
            const optionsContainer = document.getElementById('options-container');
            const feedbackEl = document.getElementById('feedback');
            const checkBtn = document.getElementById('checkBtn');
            const doneBtn = document.getElementById('doneBtn');
            const resultsModal = document.getElementById('resultsModal');
            const finalMessageEl = document.getElementById('finalMessage');
            const finalScoreEl = document.getElementById('finalScore');
            const studyAdviceEl = document.getElementById('studyAdvice');

            // --- –°—Ç–∞–Ω –≥—Ä–∏ ---
            let allTasks = [];
            let tasks = [];
            let currentTaskIndex = 0;
            let score = 0;
            let timeLeft = 20 * 60; // 20 —Ö–≤–∏–ª–∏–Ω –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
            let timerInterval = null;
            let studentName = "";

            // --- –ë–∞–Ω–∫ –ó–∞–≤–¥–∞–Ω—å ---
            // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ innerHTML, —Ç–æ–º—É <sup> –±–µ–∑–ø–µ—á–Ω–∏–π
            allTasks = [
                {
                    question: "–¢—ñ–ª–æ —Ä—É—Ö–∞—î—Ç—å—Å—è –∑–∞ –∑–∞–∫–æ–Ω–æ–º s(t) = 2t<sup>3</sup> + t<sup>2</sup> - 4 (s - —É –º–µ—Ç—Ä–∞—Ö, t - —É —Å–µ–∫—É–Ω–¥–∞—Ö). –ó–Ω–∞–π–¥—ñ—Ç—å –π–æ–≥–æ –º–∏—Ç—Ç—î–≤—É —à–≤–∏–¥–∫—ñ—Å—Ç—å —É –º–æ–º–µ–Ω—Ç t = 2 —Å.",
                    options: [
                        "20 –º/—Å",
                        "24 –º/—Å",
                        "28 –º/—Å",
                        "16 –º/—Å"
                    ],
                    correct: 2, // 28 –º/—Å
                    explanation: "–®–≤–∏–¥–∫—ñ—Å—Ç—å v(t) —î –ø–æ—Ö—ñ–¥–Ω–æ—é –≤—ñ–¥ —à–ª—è—Ö—É s(t). s'(t) = 6t<sup>2</sup> + 2t. –ü—ñ–¥—Å—Ç–∞–≤–ª—è—î–º–æ t = 2: v(2) = 6(2)<sup>2</sup> + 2(2) = 6(4) + 4 = 24 + 4 = 28 –º/—Å."
                },
                {
                    question: "–í–∞—Ä—Ç—ñ—Å—Ç—å –≤–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤–∞ C (—É –≥—Ä–∏–≤–Ω—è—Ö) x –æ–¥–∏–Ω–∏—Ü—å —Ç–æ–≤–∞—Ä—É –æ–ø–∏—Å—É—î—Ç—å—Å—è —Ñ—É–Ω–∫—Ü—ñ—î—é C(x) = 1500 + 30x + 0.1x<sup>2</sup>. –ó–Ω–∞–π–¥—ñ—Ç—å –≥—Ä–∞–Ω–∏—á–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏ (–ø–æ—Ö—ñ–¥–Ω—É C'(x)) –ø—Ä–∏ –≤–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤—ñ 50 –æ–¥–∏–Ω–∏—Ü—å —Ç–æ–≤–∞—Ä—É.",
                    options: [
                        "30 –≥—Ä–Ω",
                        "40 –≥—Ä–Ω",
                        "50 –≥—Ä–Ω",
                        "10 –≥—Ä–Ω"
                    ],
                    correct: 1, // 40 –≥—Ä–Ω
                    explanation: "–ì—Ä–∞–Ω–∏—á–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏ - —Ü–µ C'(x). C'(x) = 30 + 0.2x. –ü—Ä–∏ x = 50: C'(50) = 30 + 0.2(50) = 30 + 10 = 40 –≥—Ä–Ω. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –≤–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤–æ 51-—ó –æ–¥–∏–Ω–∏—Ü—ñ –∫–æ—à—Ç—É–≤–∞—Ç–∏–º–µ –ø—Ä–∏–±–ª–∏–∑–Ω–æ 40 –≥—Ä–Ω."
                },
                {
                    question: "–ü–æ–ø—É–ª—è—Ü—ñ—è –±–∞–∫—Ç–µ—Ä—ñ–π –∑—Ä–æ—Å—Ç–∞—î –∑–∞ –∑–∞–∫–æ–Ω–æ–º P(t) = 100t<sup>2</sup> + 500t + 1000, –¥–µ t - —á–∞—Å —É –≥–æ–¥–∏–Ω–∞—Ö. –Ø–∫–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å —Ä–æ—Å—Ç—É –ø–æ–ø—É–ª—è—Ü—ñ—ó –≤ –º–æ–º–µ–Ω—Ç t = 3 –≥–æ–¥–∏–Ω–∏?",
                    options: [
                        "1100 –±–∞–∫—Ç–µ—Ä—ñ–π/–≥–æ–¥",
                        "900 –±–∞–∫—Ç–µ—Ä—ñ–π/–≥–æ–¥",
                        "500 –±–∞–∫—Ç–µ—Ä—ñ–π/–≥–æ–¥",
                        "1400 –±–∞–∫—Ç–µ—Ä—ñ–π/–≥–æ–¥"
                    ],
                    correct: 0, // 1100 –±–∞–∫—Ç–µ—Ä—ñ–π/–≥–æ–¥
                    explanation: "–®–≤–∏–¥–∫—ñ—Å—Ç—å —Ä–æ—Å—Ç—É - —Ü–µ –ø–æ—Ö—ñ–¥–Ω–∞ P'(t). P'(t) = 200t + 500. –ü—Ä–∏ t = 3: P'(3) = 200(3) + 500 = 600 + 500 = 1100 –±–∞–∫—Ç–µ—Ä—ñ–π/–≥–æ–¥."
                },
                {
                    question: "–ü—Ä–∏–±—É—Ç–æ–∫ P(x) –≤—ñ–¥ –ø—Ä–æ–¥–∞–∂—É x –æ–¥–∏–Ω–∏—Ü—å —Ç–æ–≤–∞—Ä—É –∑–∞–¥–∞–Ω–æ —Ñ–æ—Ä–º—É–ª–æ—é P(x) = -x<sup>2</sup> + 200x - 5000. –°–∫—ñ–ª—å–∫–∏ –æ–¥–∏–Ω–∏—Ü—å —Ç–æ–≤–∞—Ä—É —Ç—Ä–µ–±–∞ –ø—Ä–æ–¥–∞—Ç–∏, —â–æ–± –ø—Ä–∏–±—É—Ç–æ–∫ –±—É–≤ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–º?",
                    options: [
                        "50",
                        "200",
                        "100",
                        "150"
                    ],
                    correct: 2, // 100
                    explanation: "–î–ª—è –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è –º–∞–∫—Å–∏–º—É–º—É –∑–Ω–∞—Ö–æ–¥–∏–º–æ –ø–æ—Ö—ñ–¥–Ω—É —ñ –ø—Ä–∏—Ä—ñ–≤–Ω—é—î–º–æ –¥–æ –Ω—É–ª—è. P'(x) = -2x + 200. -2x + 200 = 0 => 2x = 200 => x = 100. –¶–µ —Ç–æ—á–∫–∞ –º–∞–∫—Å–∏–º—É–º—É."
                },
                {
                    question: "–ú'—è—á –∫–∏–Ω—É–ª–∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ –≤–≥–æ—Ä—É. –ô–æ–≥–æ –≤–∏—Å–æ—Ç–∞ h (—É –º–µ—Ç—Ä–∞—Ö) –Ω–∞–¥ –∑–µ–º–ª–µ—é –∑–º—ñ–Ω—é—î—Ç—å—Å—è –∑–∞ –∑–∞–∫–æ–Ω–æ–º h(t) = -5t<sup>2</sup> + 40t + 2. –Ø–∫–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –≤–∏—Å–æ—Ç–∞, –Ω–∞ —è–∫—É –ø—ñ–¥–Ω—ñ–º–µ—Ç—å—Å—è –º'—è—á?",
                    options: [
                        "82 –º",
                        "40 –º",
                        "42 –º",
                        "80 –º"
                    ],
                    correct: 0, // 82 –º
                    explanation: "–°–ø–æ—á–∞—Ç–∫—É –∑–Ω–∞–π–¥–µ–º–æ —á–∞—Å –ø—ñ–¥–π–æ–º—É, –ø—Ä–∏—Ä—ñ–≤–Ω—è–≤—à–∏ –ø–æ—Ö—ñ–¥–Ω—É (—à–≤–∏–¥–∫—ñ—Å—Ç—å) –¥–æ –Ω—É–ª—è. h'(t) = -10t + 40. -10t + 40 = 0 => t = 4 —Å. –¢–µ–ø–µ—Ä –ø—ñ–¥—Å—Ç–∞–≤–∏–º–æ —Ü–µ–π —á–∞—Å —É —Ñ—É–Ω–∫—Ü—ñ—é –≤–∏—Å–æ—Ç–∏: h(4) = -5(4)<sup>2</sup> + 40(4) + 2 = -5(16) + 160 + 2 = -80 + 160 + 2 = 82 –º."
                },
                {
                    question: "–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Ç—ñ–ª–∞ T (—É ¬∞C) –∑–º—ñ–Ω—é—î—Ç—å—Å—è –∑ —á–∞—Å–æ–º t (—É —Ö–≤–∏–ª–∏–Ω–∞—Ö) –∑–∞ –∑–∞–∫–æ–Ω–æ–º T(t) = 0.2t<sup>2</sup> - 2t + 30. –£ —è–∫–∏–π –º–æ–º–µ–Ω—Ç —á–∞—Å—É —Ç—ñ–ª–æ –ø–æ—á–Ω–µ –Ω–∞–≥—Ä—ñ–≤–∞—Ç–∏—Å—è (—Ç–æ–±—Ç–æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ —Å–ø–∞–¥–∞—Ç–∏)?",
                    options: [
                        "t = 2 —Ö–≤",
                        "t = 10 —Ö–≤",
                        "t = 5 —Ö–≤",
                        "t = 0 —Ö–≤"
                    ],
                    correct: 2, // t = 5 —Ö–≤
                    explanation: "–¢—ñ–ª–æ –ø–æ—á–Ω–µ –Ω–∞–≥—Ä—ñ–≤–∞—Ç–∏—Å—è, –∫–æ–ª–∏ –π–æ–≥–æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –¥–æ—Å—è–≥–Ω–µ –º—ñ–Ω—ñ–º—É–º—É. T'(t) = 0.4t - 2. –ü—Ä–∏—Ä—ñ–≤–Ω—é—î–º–æ –¥–æ –Ω—É–ª—è: 0.4t - 2 = 0 => 0.4t = 2 => t = 5 —Ö–≤."
                },
                {
                    question: "–ö—ñ–ª—å–∫—ñ—Å—Ç—å –≤–æ–¥–∏ –≤ –±–∞—Å–µ–π–Ω—ñ V (—É –º<sup>3</sup>) –∑–º—ñ–Ω—é—î—Ç—å—Å—è –∑–∞ –∑–∞–∫–æ–Ω–æ–º V(t) = 50 + 12t - t<sup>2</sup> (t - —á–∞—Å —É –≥–æ–¥–∏–Ω–∞—Ö). –ö–æ–ª–∏ –±–∞—Å–µ–π–Ω –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ –Ω–∞–ø–æ–≤–Ω—é–≤–∞—Ç–∏—Å—å —ñ –ø–æ—á–Ω–µ –≤–∏—Ç—ñ–∫–∞—Ç–∏ (—Ç–æ–±—Ç–æ V(t) –¥–æ—Å—è–≥–Ω–µ –º–∞–∫—Å–∏–º—É–º—É)?",
                    options: [
                        "t = 12 –≥–æ–¥",
                        "t = 6 –≥–æ–¥",
                        "t = 10 –≥–æ–¥",
                        "t = 2 –≥–æ–¥"
                    ],
                    correct: 1, // t = 6 –≥–æ–¥
                    explanation: "–®—É–∫–∞—î–º–æ –º–∞–∫—Å–∏–º—É–º —Ñ—É–Ω–∫—Ü—ñ—ó V(t). V'(t) = 12 - 2t. 12 - 2t = 0 => 2t = 12 => t = 6 –≥–æ–¥. –î–æ 6 –≥–æ–¥–∏–Ω V'(t) > 0 (–Ω–∞–ø–æ–≤–Ω—é—î—Ç—å—Å—è), –ø—ñ—Å–ª—è 6 –≥–æ–¥–∏–Ω V'(t) < 0 (–≤–∏—Ç—ñ–∫–∞—î)."
                },
                {
                    question: "–§–µ—Ä–º–µ—Ä –º–∞—î 800 –º –ø–∞—Ä–∫–∞–Ω—É —ñ —Ö–æ—á–µ –æ–≥–æ—Ä–æ–¥–∏—Ç–∏ –ø—Ä—è–º–æ–∫—É—Ç–Ω–µ –ø–æ–ª–µ. –Ø–∫—ñ —Ä–æ–∑–º—ñ—Ä–∏ –ø–æ–ª—è (–¥–æ–≤–∂–∏–Ω–∞ —ñ —à–∏—Ä–∏–Ω–∞) –¥–∞–¥—É—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É –ø–ª–æ—â—É?",
                    options: [
                        "300–º x 100–º",
                        "250–º x 150–º",
                        "200–º x 200–º",
                        "350–º x 50–º"
                    ],
                    correct: 2, // 200–º x 200–º
                    explanation: "–ü–µ—Ä–∏–º–µ—Ç—Ä P = 2(L+W) = 800 => L+W = 400 => L = 400-W. –ü–ª–æ—â–∞ A = L*W = (400-W)W = 400W - W<sup>2</sup>. A'(W) = 400 - 2W. 400 - 2W = 0 => W = 200. –¢–æ–¥—ñ L = 400 - 200 = 200. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—É –ø–ª–æ—â—É –¥–∞—î –∫–≤–∞–¥—Ä–∞—Ç."
                },
                {
                    question: "–¢—ñ–ª–æ —Ä—É—Ö–∞—î—Ç—å—Å—è –ø—Ä—è–º–æ–ª—ñ–Ω—ñ–π–Ω–æ –∑–∞ –∑–∞–∫–æ–Ω–æ–º s(t) = t<sup>3</sup> - 6t<sup>2</sup> + 5 (s - —É –º–µ—Ç—Ä–∞—Ö, t - —É —Å–µ–∫—É–Ω–¥–∞—Ö). –ó–Ω–∞–π–¥—ñ—Ç—å –ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è —Ç—ñ–ª–∞ –≤ –º–æ–º–µ–Ω—Ç t = 3 —Å.",
                    options: [
                        "6 –º/—Å¬≤",
                        "0 –º/—Å¬≤",
                        "-9 –º/—Å¬≤",
                        "18 –º/—Å¬≤"
                    ],
                    correct: 0, // 6 –º/—Å¬≤
                    explanation: "–®–≤–∏–¥–∫—ñ—Å—Ç—å v(t) = s'(t) = 3t<sup>2</sup> - 12t. –ü—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è a(t) = v'(t) = s''(t) = 6t - 12. –ü—ñ–¥—Å—Ç–∞–≤–ª—è—î–º–æ t = 3: a(3) = 6(3) - 12 = 18 - 12 = 6 –º/—Å¬≤."
                },
                {
                    question: "–ó–Ω–∞–π–¥—ñ—Ç—å –∫—É—Ç–æ–≤–∏–π –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç (—Ç–∞–Ω–≥–µ–Ω—Å –∫—É—Ç–∞ –Ω–∞—Ö–∏–ª—É) –¥–æ—Ç–∏—á–Ω–æ—ó –¥–æ –≥—Ä–∞—Ñ—ñ–∫–∞ —Ñ—É–Ω–∫—Ü—ñ—ó f(x) = x<sup>2</sup> - 5x –≤ —Ç–æ—á—Ü—ñ x<sub>0</sub> = 3.",
                    options: [
                        "-6",
                        "1",
                        "3",
                        "-5"
                    ],
                    correct: 1, // 1
                    explanation: "–ö—É—Ç–æ–≤–∏–π –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç –¥–æ—Ç–∏—á–Ω–æ—ó –¥–æ—Ä—ñ–≤–Ω—é—î –∑–Ω–∞—á–µ–Ω–Ω—é –ø–æ—Ö—ñ–¥–Ω–æ—ó –≤ —Ç–æ—á—Ü—ñ –¥–æ—Ç–∏–∫—É. f'(x) = 2x - 5. f'(3) = 2(3) - 5 = 6 - 5 = 1."
                },
                {
                    question: "–ù–∞ —è–∫–æ–º—É –∑ –ø—Ä–æ–º—ñ–∂–∫—ñ–≤ —Ñ—É–Ω–∫—Ü—ñ—è y = x<sup>3</sup> - 3x<sup>2</sup> + 10 —Å–ø–∞–¥–∞—î?",
                    options: [
                        "(0; 2)",
                        "(-‚àû; 0)",
                        "(2; +‚àû)",
                        "(-‚àû; 2)"
                    ],
                    correct: 0, // (0; 2)
                    explanation: "–§—É–Ω–∫—Ü—ñ—è —Å–ø–∞–¥–∞—î, –¥–µ y' < 0. y' = 3x<sup>2</sup> - 6x = 3x(x - 2). y' < 0, –∫–æ–ª–∏ 3x(x - 2) < 0. –ú–µ—Ç–æ–¥–æ–º —ñ–Ω—Ç–µ—Ä–≤–∞–ª—ñ–≤ –æ—Ç—Ä–∏–º—É—î–º–æ, —â–æ —Ü–µ –ø—Ä–æ–º—ñ–∂–æ–∫ (0; 2)."
                },
                {
                    question: "–í–∏—Ç—Ä–∞—Ç–∏ –Ω–∞ –ø–∞–ª—å–Ω–µ –¥–ª—è –∞–≤—Ç–æ–º–æ–±—ñ–ª—è, —â–æ —Ä—É—Ö–∞—î—Ç—å—Å—è –∑—ñ —à–≤–∏–¥–∫—ñ—Å—Ç—é v –∫–º/–≥–æ–¥, —Å—Ç–∞–Ω–æ–≤–ª—è—Ç—å C(v) = 0.05v<sup>2</sup> - 4v + 100 –ª—ñ—Ç—Ä—ñ–≤/100–∫–º. –ü—Ä–∏ —è–∫—ñ–π —à–≤–∏–¥–∫–æ—Å—Ç—ñ –≤–∏—Ç—Ä–∞—Ç–∏ –ø–∞–ª—å–Ω–æ–≥–æ –±—É–¥—É—Ç—å –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º–∏?",
                    options: [
                        "60 –∫–º/–≥–æ–¥",
                        "30 –∫–º/–≥–æ–¥",
                        "50 –∫–º/–≥–æ–¥",
                        "40 –∫–º/–≥–æ–¥"
                    ],
                    correct: 3, // 40 –∫–º/–≥–æ–¥
                    explanation: "–®—É–∫–∞—î–º–æ –º—ñ–Ω—ñ–º—É–º —Ñ—É–Ω–∫—Ü—ñ—ó C(v). C'(v) = 0.1v - 4. 0.1v - 4 = 0 => 0.1v = 4 => v = 40 –∫–º/–≥–æ–¥."
                },
                {
                    question: "–ó–Ω–∞–π–¥—ñ—Ç—å —Ç–æ—á–∫—É –º—ñ–Ω—ñ–º—É–º—É —Ñ—É–Ω–∫—Ü—ñ—ó y = x<sup>2</sup> - 10x + 7.",
                    options: [
                        "x = -5",
                        "x = 10",
                        "x = 5",
                        "x = 7"
                    ],
                    correct: 2, // x = 5
                    explanation: "–¢–æ—á–∫–∞ –º—ñ–Ω—ñ–º—É–º—É - —Ü–µ —Ç–æ—á–∫–∞, –¥–µ –ø–æ—Ö—ñ–¥–Ω–∞ –¥–æ—Ä—ñ–≤–Ω—é—î –Ω—É–ª—é. y' = 2x - 10. 2x - 10 = 0 => 2x = 10 => x = 5. –û—Å–∫—ñ–ª—å–∫–∏ –¥—Ä—É–≥–∞ –ø–æ—Ö—ñ–¥–Ω–∞ y'' = 2 > 0, —Ü–µ —Ç–æ—á–∫–∞ –º—ñ–Ω—ñ–º—É–º—É."
                },
                {
                    question: "–¢—ñ–ª–æ –∫–∏–Ω—É–ª–∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ –≤–≥–æ—Ä—É. –®–≤–∏–¥–∫—ñ—Å—Ç—å —Ç—ñ–ª–∞ v (—É –º/—Å) –∑–º—ñ–Ω—é—î—Ç—å—Å—è –∑–∞ –∑–∞–∫–æ–Ω–æ–º v(t) = 30 - 10t. –£ —è–∫–∏–π –º–æ–º–µ–Ω—Ç —á–∞—Å—É —Ç—ñ–ª–æ –∑—É–ø–∏–Ω–∏—Ç—å—Å—è –≤ –Ω–∞–π–≤–∏—â—ñ–π —Ç–æ—á—Ü—ñ?",
                    options: [
                        "t = 10 —Å",
                        "t = 30 —Å",
                        "t = 1 —Å",
                        "t = 3 —Å"
                    ],
                    correct: 3, // t = 3 —Å
                    explanation: "–¢—ñ–ª–æ –∑—É–ø–∏–Ω–∏—Ç—å—Å—è, –∫–æ–ª–∏ –π–æ–≥–æ —à–≤–∏–¥–∫—ñ—Å—Ç—å v(t) –¥–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏–º–µ –Ω—É–ª—é. 30 - 10t = 0 => 10t = 30 => t = 3 —Å."
                },
                {
                    question: "–í–∏—Ä–æ–±–Ω–∏–∫ –ø—Ä–æ–¥–∞—î x —Ç–µ–ª–µ–≤—ñ–∑–æ—Ä—ñ–≤ –∑–∞ —Ü—ñ–Ω–æ—é p(x) = 300 - 0.5x. –ó–∞–≥–∞–ª—å–Ω–∏–π –¥–æ—Ö—ñ–¥ R(x) = x * p(x) = 300x - 0.5x<sup>2</sup>. –ó–Ω–∞–π–¥—ñ—Ç—å –≥—Ä–∞–Ω–∏—á–Ω–∏–π –¥–æ—Ö—ñ–¥ R'(x).",
                    options: [
                        "R'(x) = 300 - x",
                        "R'(x) = 300",
                        "R'(x) = 300 - 0.5x",
                        "R'(x) = -x"
                    ],
                    correct: 0, // R'(x) = 300 - x
                    explanation: "–ì—Ä–∞–Ω–∏—á–Ω–∏–π –¥–æ—Ö—ñ–¥ - —Ü–µ –ø–æ—Ö—ñ–¥–Ω–∞ –≤—ñ–¥ –∑–∞–≥–∞–ª—å–Ω–æ–≥–æ –¥–æ—Ö–æ–¥—É R(x) = 300x - 0.5x<sup>2</sup>. R'(x) = 300 - 0.5 * (2x) = 300 - x."
                }
            ];

            // --- –§—É–Ω–∫—Ü—ñ—ó ---

            // –ü–µ—Ä–µ–º—ñ—à—É–≤–∞–Ω–Ω—è –º–∞—Å–∏–≤—É (Fisher-Yates)
            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }

            // –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞
            function startTimer() {
                timerInterval = setInterval(() => {
                    timeLeft--;
                    const minutes = Math.floor(timeLeft / 60);
                    const seconds = timeLeft % 60;
                    timerEl.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;

                    if (timeLeft <= 0) {
                        clearInterval(timerInterval);
                        showResults();
                    }
                }, 1000);
            }

            // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è
            function loadTask() {
                if (currentTaskIndex < tasks.length) {
                    const task = tasks[currentTaskIndex];
                    questionNumberEl.textContent = `–ó–∞–≤–¥–∞–Ω–Ω—è ${currentTaskIndex + 1}:`;
                    questionEl.innerHTML = task.question; // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ innerHTML –¥–ª—è <sup>
                    
                    optionsContainer.innerHTML = ''; // –û—á–∏—â—É—î–º–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏
                    task.options.forEach((option, index) => {
                        optionsContainer.innerHTML += `
                            <label class="option-label flex items-center p-4 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition duration-200">
                                <input type="radio" name="option" value="${index}" class="mr-3 text-blue-600 focus:ring-blue-500">
                                <span class="text-gray-700">${option}</span>
                            </label>
                        `;
                    });

                    feedbackEl.innerHTML = '';
                    feedbackEl.className = 'mt-4 min-h-[50px] text-base font-medium p-4 rounded-lg';
                    checkBtn.disabled = false;
                    checkBtn.textContent = '–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏';
                } else {
                    // –í—Å—ñ –∑–∞–≤–¥–∞–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–Ω–æ
                    showResults();
                }
            }

            // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
            function checkAnswer() {
                const selectedOption = document.querySelector('input[name="option"]:checked');
                if (!selectedOption) {
                    feedbackEl.textContent = '–ë—É–¥—å –ª–∞—Å–∫–∞, –æ–±–µ—Ä—ñ—Ç—å –≤–∞—Ä—ñ–∞–Ω—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ.';
                    feedbackEl.className += ' bg-yellow-100 text-yellow-800';
                    return;
                }

                checkBtn.disabled = true;
                const answerIndex = parseInt(selectedOption.value);
                const correctIndex = tasks[currentTaskIndex].correct;

                if (answerIndex === correctIndex) {
                    // –ü—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å
                    score++;
                    scoreEl.textContent = score;
                    feedbackEl.innerHTML = '‚úÖ <strong>–ü—Ä–∞–≤–∏–ª—å–Ω–æ!</strong>';
                    feedbackEl.className += ' bg-green-100 text-green-800';
                    moveDog(true); // true = –ø—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å
                } else {
                    // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å
                    feedbackEl.innerHTML = `‚ùå <strong>–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.</strong> <br> ${tasks[currentTaskIndex].explanation}`;
                    feedbackEl.className += ' bg-red-100 text-red-800';
                    moveDog(false); // false = –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å
                }

                // –ü–µ—Ä–µ—Ö—ñ–¥ –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è
                currentTaskIndex++;
                setTimeout(() => {
                    loadTask();
                }, 2500); // –ó–∞—Ç—Ä–∏–º–∫–∞, —â–æ–± —É—á–µ–Ω—å –≤—Å—Ç–∏–≥ –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ –ø–æ—è—Å–Ω–µ–Ω–Ω—è
            }

            // –†—É—Ö —Å–æ–±–∞–∫–∏
            function moveDog(isCorrect) {
                if(isCorrect) {
                    dogEl.classList.add('running');
                    // –°–æ–±–∞–∫–∞ —Ä—É—Ö–∞—î—Ç—å—Å—è –Ω–∞ (100 / 12)% –∑–∞ –∫–æ–∂–Ω—É –ø—Ä–∞–≤–∏–ª—å–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å
                    const progressPercentage = (score / tasks.length) * 100;
                    // 90% - —Ü–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –ø–æ–∑–∏—Ü—ñ—è –∑–ª—ñ–≤–∞, —â–æ–± üèÅ –±—É–≤ –≤–∏–¥–Ω–∏–π
                    const dogPosition = Math.min(progressPercentage * 0.9, 90); 
                    dogEl.style.left = `${dogPosition}%`;

                    // –ó—É–ø–∏–Ω–∏—Ç–∏ –∞–Ω—ñ–º–∞—Ü—ñ—é –±—ñ–≥—É
                    setTimeout(() => dogEl.classList.remove('running'), 1000); // –¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –∞–Ω—ñ–º–∞—Ü—ñ—ó –ø–µ—Ä–µ—Ö–æ–¥—É
                }
                // –Ø–∫—â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞, —Å–æ–±–∞–∫–∞ –Ω–µ —Ä—É—Ö–∞—î—Ç—å—Å—è
            }

            // –ü–æ–∫–∞–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
            function showResults() {
                clearInterval(timerInterval);
                checkBtn.disabled = true;
                doneBtn.disabled = true;

                studentName = studentNameInput.value || "–£—á–µ–Ω—å";
                finalMessageEl.textContent = `–í—ñ—Ç–∞—î–º–æ, ${studentName}!`;
                finalScoreEl.textContent = `–í–∞—à –±–∞–ª: ${score} –∑ ${tasks.length}`;

                // –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø–æ—Ä–∞–¥
                studyAdviceEl.innerHTML = '';
                if (score < 6) {
                    studyAdviceEl.innerHTML = `
                        <li>–ü–æ–≤—Ç–æ—Ä—ñ—Ç—å –±–∞–∑–æ–≤—ñ –ø—Ä–∞–≤–∏–ª–∞ –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è –ø–æ—Ö—ñ–¥–Ω–∏—Ö (—Å—Ç–µ–ø–µ–Ω–µ–≤–∞ —Ñ—É–Ω–∫—Ü—ñ—è, —Å—É–º–∞).</li>
                        <li>–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É –Ω–∞ —Ñ—ñ–∑–∏—á–Ω–∏–π –∑–º—ñ—Å—Ç –ø–æ—Ö—ñ–¥–Ω–æ—ó (—à–≤–∏–¥–∫—ñ—Å—Ç—å, –ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è).</li>
                        <li>–ü–æ–ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å —É –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—ñ —Ç–æ—á–æ–∫ –µ–∫—Å—Ç—Ä–µ–º—É–º—É.</li>
                    `;
                } else if (score < 10) {
                    studyAdviceEl.innerHTML = `
                        <li>–•–æ—Ä–æ—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! –ü–æ–≤—Ç–æ—Ä—ñ—Ç—å –≥–µ–æ–º–µ—Ç—Ä–∏—á–Ω–∏–π –∑–º—ñ—Å—Ç –ø–æ—Ö—ñ–¥–Ω–æ—ó (–¥–æ—Ç–∏—á–Ω–∞).</li>
                        <li>–†–æ–∑–≤'—è–∂—ñ—Ç—å –±—ñ–ª—å—à–µ –∑–∞–¥–∞—á –Ω–∞ –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è –Ω–∞–π–±—ñ–ª—å—à–æ–≥–æ/–Ω–∞–π–º–µ–Ω—à–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ—ó –Ω–∞ –ø—Ä–æ–º—ñ–∂–∫—É.</li>
                    `;
                } else {
                    studyAdviceEl.innerHTML = `
                        <li>–í—ñ–¥–º—ñ–Ω–Ω–æ! –í–∏ –¥–æ–±—Ä–µ –∑–∞—Å–≤–æ—ó–ª–∏ —Ç–µ–º—É.</li>
                        <li>–°–ø—Ä–æ–±—É–π—Ç–µ —Ä–æ–∑–≤'—è–∑–∞—Ç–∏ —Å–∫–ª–∞–¥–Ω—ñ—à—ñ –ø—Ä–∏–∫–ª–∞–¥–Ω—ñ –∑–∞–¥–∞—á—ñ –Ω–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—é.</li>
                    `;
                }

                resultsModal.classList.remove('hidden');
            }

            // --- –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è ---
            function init() {
                tasks = shuffleArray(allTasks).slice(0, 12); // –í–∏–±–∏—Ä–∞—î–º–æ 12 –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö –∑–∞–≤–¥–∞–Ω—å
                startTimer();
                loadTask();

                checkBtn.addEventListener('click', checkAnswer);
                doneBtn.addEventListener('click', showResults);
            }

            init();
        });
    </script>
</body>
</html>
